= on revision 73139c8774fd728a29917c2afd56dc8f97299174 =

{{{
[  282.843558] [1;31mERROR: AddressSanitizer: heap-use-after-free on address ffff880012601d2c[0m
[  282.844766] [1;34mAccessed by thread T542:[0m
[  282.845814]   #0 ffffffff810dd250 (asan_report_error+0xb0/0x250)
[  282.846708]   #1 ffffffff810dc6c0 (asan_check_region+0x30/0x40)
[  282.847570]   #2 ffffffff810dd453 (__tsan_read2+0x13/0x20)
[  282.848330]   #3 ffffffff813f9de0 (ext4_mb_release_context+0x70/0xa40)
[  282.848938]   #4 ffffffff813ffb38 (ext4_mb_new_blocks+0x888/0x9b0)
[  282.849801]   #5 ffffffff813f0844 (ext4_ext_map_blocks+0x1404/0x1ba0)
[  282.850433]   #6 ffffffff813a7dc5 (ext4_map_blocks+0x485/0x800)
[  282.851063]   #7 ffffffff813ad163 (ext4_writepages+0x8f3/0x13d0)
[  282.851729]   #8 ffffffff81226854 (do_writepages+0x54/0xa0)
[  282.852304]   #9 ffffffff812d8833 (__writeback_single_inode+0x73/0x390)
[  282.853201]   #10 ffffffff812da044 (writeback_sb_inodes+0x2a4/0x700)
[  282.854110]   #11 ffffffff812da764 (wb_writeback+0x194/0x450)
[  282.854684]   #12 ffffffff812dd7c1 (bdi_writeback_workfn+0x1d1/0x620)
[  282.855409]   #13 ffffffff811113a0 (process_one_work+0x2d0/0x750)
[  282.856266]   #14 ffffffff81111a83 (worker_thread+0x263/0x640)
[  282.857078]   #15 ffffffff8111bdf2 (kthread+0x132/0x140)
[  282.857786]   #16 ffffffff8192555c (ret_from_fork+0x7c/0xb0)
[  282.858557] [1;35mAllocated by thread T542:[0m
[  282.859209]   #0 ffffffff810dc784 (asan_slab_alloc+0x44/0xa0)
[  282.859964]   #1 ffffffff81281d5a (kmem_cache_alloc+0x9a/0x4c0)
[  282.860779]   #2 ffffffff8190ba4d (ext4_mb_new_inode_pa+0xd8/0x752)
[  282.861629]   #3 ffffffff813ffbbb (ext4_mb_new_blocks+0x90b/0x9b0)
[  282.862539]   #4 ffffffff813f0844 (ext4_ext_map_blocks+0x1404/0x1ba0)
[  282.863423]   #5 ffffffff813a7dc5 (ext4_map_blocks+0x485/0x800)
[  282.864262]   #6 ffffffff813ad163 (ext4_writepages+0x8f3/0x13d0)
[  282.865163]   #7 ffffffff81226854 (do_writepages+0x54/0xa0)
[  282.865920]   #8 ffffffff812d8833 (__writeback_single_inode+0x73/0x390)
[  282.866824]   #9 ffffffff812da044 (writeback_sb_inodes+0x2a4/0x700)
[  282.867682]   #10 ffffffff812da764 (wb_writeback+0x194/0x450)
[  282.868475]   #11 ffffffff812dd7c1 (bdi_writeback_workfn+0x1d1/0x620)
[  282.869342]   #12 ffffffff811113a0 (process_one_work+0x2d0/0x750)
[  282.870181]   #13 ffffffff81111a83 (worker_thread+0x263/0x640)
[  282.870833]   #14 ffffffff8111bdf2 (kthread+0x132/0x140)
[  282.871574]   #15 ffffffff8192555c (ret_from_fork+0x7c/0xb0)
[  282.872330] [1;35mFreed by thread T0:[0m
[  282.872885]   #0 ffffffff810dc857 (asan_slab_free+0x77/0xb0)
[  282.873689]   #1 ffffffff8127fae5 (kmem_cache_free+0x55/0x2e0)
[  282.874540]   #2 ffffffff813f5ae2 (ext4_mb_pa_callback+0x32/0x40)
[  282.875460]   #3 ffffffff811bcb62 (rcu_process_callbacks+0x292/0x880)
[  282.876352]   #4 ffffffff810ee9c2 (__do_softirq+0x182/0x3a0)
[  282.877139]   #5 ffffffff810eee45 (irq_exit+0x115/0x120)
[  282.877831]   #6 ffffffff8192741a (smp_apic_timer_interrupt+0x6a/0x80)
[  282.878812]   #7 ffffffff819261ca (apic_timer_interrupt+0x6a/0x70)
[  282.879431]   #8 ffffffff8108b2c2 (arch_cpu_idle+0x42/0x50)
[  282.880139]   #9 ffffffff8115e0ba (cpu_startup_entry+0xfa/0x330)
[  282.880831]   #10 ffffffff810c12ea (start_secondary+0x27a/0x2f0)
[  282.881697] Shadow bytes around the buggy address:
[  282.882423]   ffff880038ac0350: [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m
[  282.885379]   ffff880038ac0360: [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m
[  282.888340]   ffff880038ac0370: [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m
[  282.891294]   ffff880038ac0380: [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m
[  282.894249]   ffff880038ac0390: [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m
[  282.897198] =>ffff880038ac03a0: [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m[[1;35mfd[0m][1;35mfd[0m [1;35mfd[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m
[  282.900558]   ffff880038ac03b0: [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m
[  282.903216]   ffff880038ac03c0: [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;37m00[0m [1;37m00[0m [1;37m00[0m
[  282.906150]   ffff880038ac03d0: [1;37m00[0m [1;37m00[0m [1;37m00[0m [1;37m00[0m [1;37m00[0m [1;37m00[0m [1;37m00[0m [1;37m00[0m [1;37m00[0m [1;37m00[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m
[  282.909099]   ffff880038ac03e0: [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m
[  282.912077]   ffff880038ac03f0: [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m
[  282.915039] Shadow byte legend (one shadow byte represents 8 application bytes):
[  282.915982]   Addressable:           [1;37m00[0m
[  282.916628]   Partially addressable: [1;37m01 02 03 04 05 06 07 [0m
[  282.917489]   Heap redzone:          [1;31mfa[0m
[  282.918140]   Freed heap region:     [1;35mfd[0m
}}}

{{{
[  304.429006] [1;31mERROR: AddressSanitizer: heap-use-after-free on address ffff880012601d2c[0m
[  304.430161] [1;34mAccessed by thread T542:[0m
[  304.430798]   #0 ffffffff810dd250 (asan_report_error+0xb0/0x250)
[  304.431613]   #1 ffffffff810dc6c0 (asan_check_region+0x30/0x40)
[  304.432418]   #2 ffffffff810dd453 (__tsan_read2+0x13/0x20)
[  304.433170]   #3 ffffffff813f9de0 (ext4_mb_release_context+0x70/0xa40)
[  304.434055]   #4 ffffffff813ffb38 (ext4_mb_new_blocks+0x888/0x9b0)
[  304.434873]   #5 ffffffff813f0844 (ext4_ext_map_blocks+0x1404/0x1ba0)
[  304.435748]   #6 ffffffff813a7dc5 (ext4_map_blocks+0x485/0x800)
[  304.436557]   #7 ffffffff813ad163 (ext4_writepages+0x8f3/0x13d0)
[  304.437377]   #8 ffffffff81226854 (do_writepages+0x54/0xa0)
[  304.438141]   #9 ffffffff812d8833 (__writeback_single_inode+0x73/0x390)
[  304.439037]   #10 ffffffff812da044 (writeback_sb_inodes+0x2a4/0x700)
[  304.439873]   #11 ffffffff812da764 (wb_writeback+0x194/0x450)
[  304.440659]   #12 ffffffff812dd7c1 (bdi_writeback_workfn+0x1d1/0x620)
[  304.441533]   #13 ffffffff811113a0 (process_one_work+0x2d0/0x750)
[  304.442364]   #14 ffffffff81111a83 (worker_thread+0x263/0x640)
[  304.443157]   #15 ffffffff8111bdf2 (kthread+0x132/0x140)
[  304.443881]   #16 ffffffff8192555c (ret_from_fork+0x7c/0xb0)
[  304.444407] [1;35mAllocated by thread T542:[0m
[  304.445044]   #0 ffffffff810dc784 (asan_slab_alloc+0x44/0xa0)
[  304.445806]   #1 ffffffff81281d5a (kmem_cache_alloc+0x9a/0x4c0)
[  304.446600]   #2 ffffffff8190ba4d (ext4_mb_new_inode_pa+0xd8/0x752)
[  304.447458]   #3 ffffffff813ffbbb (ext4_mb_new_blocks+0x90b/0x9b0)
[  304.448297]   #4 ffffffff813f0844 (ext4_ext_map_blocks+0x1404/0x1ba0)
[  304.449163]   #5 ffffffff813a7dc5 (ext4_map_blocks+0x485/0x800)
[  304.449946]   #6 ffffffff813ad163 (ext4_writepages+0x8f3/0x13d0)
[  304.450786]   #7 ffffffff81226854 (do_writepages+0x54/0xa0)
[  304.451555]   #8 ffffffff812d8833 (__writeback_single_inode+0x73/0x390)
[  304.452459]   #9 ffffffff812da044 (writeback_sb_inodes+0x2a4/0x700)
[  304.453325]   #10 ffffffff812da764 (wb_writeback+0x194/0x450)
[  304.454115]   #11 ffffffff812dd7c1 (bdi_writeback_workfn+0x1d1/0x620)
[  304.454966]   #12 ffffffff811113a0 (process_one_work+0x2d0/0x750)
[  304.455796]   #13 ffffffff81111a83 (worker_thread+0x263/0x640)
[  304.456589]   #14 ffffffff8111bdf2 (kthread+0x132/0x140)
[  304.457323]   #15 ffffffff8192555c (ret_from_fork+0x7c/0xb0)
[  304.458089] [1;35mFreed by thread T0:[0m
[  304.458644]   #0 ffffffff810dc857 (asan_slab_free+0x77/0xb0)
[  304.459424]   #1 ffffffff8127fae5 (kmem_cache_free+0x55/0x2e0)
[  304.460229]   #2 ffffffff813f5ae2 (ext4_mb_pa_callback+0x32/0x40)
[  304.461081]   #3 ffffffff811bcb62 (rcu_process_callbacks+0x292/0x880)
[  304.461933]   #4 ffffffff810ee9c2 (__do_softirq+0x182/0x3a0)
[  304.462704]   #5 ffffffff810eee45 (irq_exit+0x115/0x120)
[  304.463433]   #6 ffffffff8192741a (smp_apic_timer_interrupt+0x6a/0x80)
[  304.464318]   #7 ffffffff819261ca (apic_timer_interrupt+0x6a/0x70)
[  304.465154]   #8 ffffffff8108b2c2 (arch_cpu_idle+0x42/0x50)
[  304.465897]   #9 ffffffff8115e0ba (cpu_startup_entry+0xfa/0x330)
[  304.466715]   #10 ffffffff810c12ea (start_secondary+0x27a/0x2f0)
[  304.467523] Shadow bytes around the buggy address:
[  304.468243]   ffff880038ac0350: [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m
[  304.471206]   ffff880038ac0360: [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m
[  304.474197]   ffff880038ac0370: [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m
[  304.477191]   ffff880038ac0380: [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m
[  304.480184]   ffff880038ac0390: [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m
[  304.483170] =>ffff880038ac03a0: [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m [1;35mfd[0m[[1;35mfd[0m][1;35mfd[0m [1;35mfd[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m
[  304.486156]   ffff880038ac03b0: [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m
[  304.489160]   ffff880038ac03c0: [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;37m00[0m [1;37m00[0m [1;37m00[0m
[  304.491997]   ffff880038ac03d0: [1;37m00[0m [1;37m00[0m [1;37m00[0m [1;37m00[0m [1;37m00[0m [1;37m00[0m [1;37m00[0m [1;37m00[0m [1;37m00[0m [1;37m00[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m
[  304.494977]   ffff880038ac03e0: [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m
[  304.497989]   ffff880038ac03f0: [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m [1;31mfa[0m
[  304.500909] Shadow byte legend (one shadow byte represents 8 application bytes):
[  304.501890]   Addressable:           [1;37m00[0m
[  304.502540]   Partially addressable: [1;37m01 02 03 04 05 06 07 [0m
[  304.503391]   Heap redzone:          [1;31mfa[0m
[  304.504037]   Freed heap region:     [1;35mfd[0m
}}}

= on revision 1d4aa8bbf97ab1d725cf84328ef463dce29633b7 =

{{{
[ 1166.573372] ERROR: AddressSanitizer: heap-use-after-free on address ffff880032afae44
[ 1166.575026] Accessed by thread T24895:
[ 1166.575865]   #0 ffffffff810dd483 (asan_report_error+0x163/0x3b0)
[ 1166.577165]   #1 ffffffff810dc6c0 (asan_check_region+0x30/0x40)
[ 1166.578443]   #2 ffffffff810dd713 (__tsan_read1+0x13/0x20)
[ 1166.579629]   #3 ffffffff814d4edf (kobject_put+0x1f/0x80)
[ 1166.580766]   #4 ffffffff815f8b44 (put_device+0x24/0x30)
[ 1166.581923]   #5 ffffffff8161c80b (scsi_host_dev_release+0x13b/0x160)
[ 1166.583272]   #6 ffffffff815f8573 (device_release+0x53/0x100)
[ 1166.584464]   #7 ffffffff814d50df (kobject_release+0x6f/0xc0)
[ 1166.585660]   #8 ffffffff814d4efa (kobject_put+0x3a/0x80)
[ 1166.586836]   #9 ffffffff815f8b44 (put_device+0x24/0x30)
[ 1166.587955]   #10 ffffffff81629b04 (scsi_target_dev_release+0x34/0x40)
[ 1166.589395]   #11 ffffffff815f8573 (device_release+0x53/0x100)
[ 1166.590672]   #12 ffffffff814d50df (kobject_release+0x6f/0xc0)
[ 1166.591912]   #13 ffffffff814d4efa (kobject_put+0x3a/0x80)
[ 1166.592668]   #14 ffffffff815f8b44 (put_device+0x24/0x30)
[ 1166.593153]   #15 ffffffff8162e5ca (scsi_device_dev_release_usercontext+0x35a/0x370)
[ 1166.593794]   #16 ffffffff81110bd9 (execute_in_process_context+0xc9/0xe0)
[ 1166.594384]   #17 ffffffff8162e229 (scsi_device_dev_release+0x29/0x40)
[ 1166.594929]   #18 ffffffff815f8573 (device_release+0x53/0x100)
[ 1166.595440]   #19 ffffffff814d50df (kobject_release+0x6f/0xc0)
[ 1166.595930]   #20 ffffffff814d4efa (kobject_put+0x3a/0x80)
[ 1166.596414]   #21 ffffffff815f8b44 (put_device+0x24/0x30)
[ 1166.596870]   #22 ffffffff81619472 (scsi_device_put+0x62/0x80)
[ 1166.597389]   #23 ffffffff81679a4b (sg_remove_sfp_usercontext+0xdb/0x160)
[ 1166.597955]   #24 ffffffff81111680 (process_one_work+0x2d0/0x750)
[ 1166.598488]   #25 ffffffff81111d63 (worker_thread+0x263/0x640)
[ 1166.598977]   #26 ffffffff8111c0d2 (kthread+0x132/0x140)
[ 1166.599457]   #27 ffffffff819257dc (ret_from_fork+0x7c/0xb0)
[ 1166.599923] 
[ 1166.600083] Freed by thread T4068:
[ 1166.600527]   #0 ffffffff810dc867 (asan_slab_free+0x77/0xb0)
[ 1166.601571]   #1 ffffffff81280b7a (kfree+0x9a/0x240)
[ 1166.602637]   #2 ffffffff812d27f0 (setxattr+0x170/0x1b0)
[ 1166.603381]   #3 ffffffff812d2c50 (SyS_lsetxattr+0xc0/0x100)
[ 1166.604187]   #4 ffffffff81925882 (system_call_fastpath+0x16/0x1b)
[ 1166.604995] 
[ 1166.605232] Allocated by thread T4068:
[ 1166.605741]   #0 ffffffff810dc78a (asan_slab_alloc+0x4a/0xb0)
[ 1166.606524]   #1 ffffffff8128251c (__kmalloc+0xbc/0x500)
[ 1166.607255]   #2 ffffffff812d2724 (setxattr+0xa4/0x1b0)
[ 1166.607965]   #3 ffffffff812d2c50 (SyS_lsetxattr+0xc0/0x100)
[ 1166.608741]   #4 ffffffff81925882 (system_call_fastpath+0x16/0x1b)
[ 1166.609571] 
[ 1166.609784] Shadow bytes around the buggy address:
[ 1166.610489]   ffff880032afab80: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[ 1166.611535]   ffff880032afac00: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[ 1166.612566]   ffff880032afac80: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[ 1166.613592]   ffff880032afad00: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[ 1166.614628]   ffff880032afad80: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[ 1166.615659] =>ffff880032afae00: fd fd fd fd fd fd fd fd[fd]fd fd fd fd fd fd fd
[ 1166.616687]   ffff880032afae80: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[ 1166.617717]   ffff880032afaf00: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[ 1166.619142]   ffff880032afaf80: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[ 1166.620639]   ffff880032afb000: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[ 1166.622122]   ffff880032afb080: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[ 1166.623124] Shadow byte legend (one shadow byte represents 8 application bytes):
[ 1166.624554]   Addressable:           00
[ 1166.625322]   Partially addressable: 01 02 03 04 05 06 07 
[ 1166.626401]   Heap redzone:          fa
[ 1166.627151]   Heap kmalloc redzone:  fb
[ 1166.627884]   Freed heap region:     fd
}}}

{{{
[ 1166.631626] ERROR: AddressSanitizer: heap-use-after-free on address ffff880032afae08
[ 1166.633092] Accessed by thread T24895:
[ 1166.633837]   #0 ffffffff810dd483 (asan_report_error+0x163/0x3b0)
[ 1166.635014]   #1 ffffffff810dc6c0 (asan_check_region+0x30/0x40)
[ 1166.636149]   #2 ffffffff810dd773 (__tsan_read8+0x13/0x20)
[ 1166.637218]   #3 ffffffff814d4f10 (kobject_put+0x50/0x80)
[ 1166.638273]   #4 ffffffff815f8b44 (put_device+0x24/0x30)
[ 1166.639314]   #5 ffffffff8161c80b (scsi_host_dev_release+0x13b/0x160)
[ 1166.640555]   #6 ffffffff815f8573 (device_release+0x53/0x100)
[ 1166.641685]   #7 ffffffff814d50df (kobject_release+0x6f/0xc0)
[ 1166.642794]   #8 ffffffff814d4efa (kobject_put+0x3a/0x80)
[ 1166.643840]   #9 ffffffff815f8b44 (put_device+0x24/0x30)
[ 1166.644883]   #10 ffffffff81629b04 (scsi_target_dev_release+0x34/0x40)
[ 1166.646143]   #11 ffffffff815f8573 (device_release+0x53/0x100)
[ 1166.647267]   #12 ffffffff814d50df (kobject_release+0x6f/0xc0)
[ 1166.648399]   #13 ffffffff814d4efa (kobject_put+0x3a/0x80)
[ 1166.649458]   #14 ffffffff815f8b44 (put_device+0x24/0x30)
[ 1166.650512]   #15 ffffffff8162e5ca (scsi_device_dev_release_usercontext+0x35a/0x370)
[ 1166.651785]   #16 ffffffff81110bd9 (execute_in_process_context+0xc9/0xe0)
[ 1166.652385]   #17 ffffffff8162e229 (scsi_device_dev_release+0x29/0x40)
[ 1166.652943]   #18 ffffffff815f8573 (device_release+0x53/0x100)
[ 1166.653458]   #19 ffffffff814d50df (kobject_release+0x6f/0xc0)
[ 1166.653949]   #20 ffffffff814d4efa (kobject_put+0x3a/0x80)
[ 1166.654753]   #21 ffffffff815f8b44 (put_device+0x24/0x30)
[ 1166.655540]   #22 ffffffff81619472 (scsi_device_put+0x62/0x80)
[ 1166.656362]   #23 ffffffff81679a4b (sg_remove_sfp_usercontext+0xdb/0x160)
[ 1166.656945]   #24 ffffffff81111680 (process_one_work+0x2d0/0x750)
[ 1166.657529]   #25 ffffffff81111d63 (worker_thread+0x263/0x640)
[ 1166.658042]   #26 ffffffff8111c0d2 (kthread+0x132/0x140)
[ 1166.658495]   #27 ffffffff819257dc (ret_from_fork+0x7c/0xb0)
[ 1166.658960] 
[ 1166.659133] Freed by thread T4068:
[ 1166.659434]   #0 ffffffff810dc867 (asan_slab_free+0x77/0xb0)
[ 1166.659912]   #1 ffffffff81280b7a (kfree+0x9a/0x240)
[ 1166.660360]   #2 ffffffff812d27f0 (setxattr+0x170/0x1b0)
[ 1166.660809]   #3 ffffffff812d2c50 (SyS_lsetxattr+0xc0/0x100)
[ 1166.661762]   #4 ffffffff81925882 (system_call_fastpath+0x16/0x1b)
[ 1166.662975] 
[ 1166.663296] Allocated by thread T4068:
[ 1166.664064]   #0 ffffffff810dc78a (asan_slab_alloc+0x4a/0xb0)
[ 1166.665346]   #1 ffffffff8128251c (__kmalloc+0xbc/0x500)
[ 1166.666989]   #2 ffffffff812d2724 (setxattr+0xa4/0x1b0)
[ 1166.668350]   #3 ffffffff812d2c50 (SyS_lsetxattr+0xc0/0x100)
[ 1166.669480]   #4 ffffffff81925882 (system_call_fastpath+0x16/0x1b)
[ 1166.670704] 
[ 1166.671214] Shadow bytes around the buggy address:
[ 1166.672748]   ffff880032afab80: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[ 1166.675045]   ffff880032afac00: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[ 1166.677325]   ffff880032afac80: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[ 1166.679598]   ffff880032afad00: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[ 1166.681871]   ffff880032afad80: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[ 1166.684141] =>ffff880032afae00: fd[fd]fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[ 1166.686402]   ffff880032afae80: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[ 1166.688671]   ffff880032afaf00: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[ 1166.690937]   ffff880032afaf80: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[ 1166.693229]   ffff880032afb000: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[ 1166.695518]   ffff880032afb080: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[ 1166.697732] Shadow byte legend (one shadow byte represents 8 application bytes):
[ 1166.699966]   Addressable:           00
[ 1166.701164]   Partially addressable: 01 02 03 04 05 06 07 
[ 1166.702875]   Heap redzone:          fa
[ 1166.704097]   Heap kmalloc redzone:  fb
[ 1166.705277]   Freed heap region:     fd
}}}

{{{
[  322.237696] ERROR: AddressSanitizer: heap-buffer-overflow on address ffff88000bc00004
[  322.239199] Accessed by thread T5629:
[  322.239944]   #0 ffffffff810dd483 (asan_report_error+0x163/0x3b0)
[  322.241136]   #1 ffffffff810dc6c0 (asan_check_region+0x30/0x40)
[  322.242290]   #2 ffffffff810dcc8f (asan_memset+0x1f/0x50)
[  322.243078]   #3 ffffffff812eabed (__block_write_begin+0x5cd/0x630)
[  322.243904]   #4 ffffffff813af244 (ext4_da_write_begin+0x1c4/0x3c0)
[  322.244746]   #5 ffffffff81215a37 (generic_file_buffered_write+0x1a7/0x420)
[  322.245713]   #6 ffffffff812186e7 (__generic_file_aio_write+0x2f7/0x550)
[  322.246616]   #7 ffffffff812189d7 (generic_file_aio_write+0x97/0x100)
[  322.247502]   #8 ffffffff8139f061 (ext4_file_write+0x121/0x5e0)
[  322.248639]   #9 ffffffff8129c181 (do_sync_write+0x111/0x170)
[  322.249809]   #10 ffffffff8129cd1a (vfs_write+0x12a/0x300)
[  322.250896]   #11 ffffffff8129de70 (SyS_write+0x80/0xe0)
[  322.251940]   #12 ffffffff81925882 (system_call_fastpath+0x16/0x1b)
[  322.253136] 
[  322.253447] Allocated by thread T0:
[  322.254088] 
[  322.254296] Shadow bytes around the buggy address:
[  322.254987]   ffff88000bbffd80: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
[  322.256076]   ffff88000bbffe00: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
[  322.257124]   ffff88000bbffe80: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
[  322.258157]   ffff88000bbfff00: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
[  322.259206]   ffff88000bbfff80: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
[  322.260486] =>ffff88000bc00000:[fa]fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
[  322.261981]   ffff88000bc00080: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[  322.263447]   ffff88000bc00100: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[  322.264921]   ffff88000bc00180: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[  322.266204]   ffff88000bc00200: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[  322.267237]   ffff88000bc00280: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[  322.268457] Shadow byte legend (one shadow byte represents 8 application bytes):
[  322.269438]   Addressable:           00
[  322.269977]   Partially addressable: 01 02 03 04 05 06 07 
[  322.270766]   Heap redzone:          fa
[  322.271297]   Heap kmalloc redzone:  fb
[  322.271790]   Freed heap region:     fd
}}}

{{{
[  349.845401] ERROR: AddressSanitizer: heap-buffer-overflow on address ffff880003800011
[  349.846370] Accessed by thread T12840:
[  349.846904]   #0 ffffffff810dd483 (asan_report_error+0x163/0x3b0)
[  349.847708]   #1 ffffffff810dc6c0 (asan_check_region+0x30/0x40)
[  349.848508]   #2 ffffffff810dcc8f (asan_memset+0x1f/0x50)
[  349.849255]   #3 ffffffff812eabed (__block_write_begin+0x5cd/0x630)
[  349.850104]   #4 ffffffff813af244 (ext4_da_write_begin+0x1c4/0x3c0)
[  349.850886]   #5 ffffffff81215a37 (generic_file_buffered_write+0x1a7/0x420)
[  349.851827]   #6 ffffffff812186e7 (__generic_file_aio_write+0x2f7/0x550)
[  349.852729]   #7 ffffffff812189d7 (generic_file_aio_write+0x97/0x100)
[  349.853592]   #8 ffffffff8139f061 (ext4_file_write+0x121/0x5e0)
[  349.854396]   #9 ffffffff8129c181 (do_sync_write+0x111/0x170)
[  349.855176]   #10 ffffffff8129cd1a (vfs_write+0x12a/0x300)
[  349.855897]   #11 ffffffff8129de70 (SyS_write+0x80/0xe0)
[  349.856619]   #12 ffffffff81925882 (system_call_fastpath+0x16/0x1b)
[  349.857463] 
[  349.857677] Allocated by thread T0:
[  349.858158] 
[  349.858373] Shadow bytes around the buggy address:
[  349.859073]   ffff8800037ffd80: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
[  349.860082]   ffff8800037ffe00: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
[  349.861101]   ffff8800037ffe80: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
[  349.862119]   ffff8800037fff00: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
[  349.863145]   ffff8800037fff80: fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb fb
[  349.864140] =>ffff880003800000: fa fa[fa]fa fa fa fa fa fa fa fa fa fa fa fa fa
[  349.865161]   ffff880003800080: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[  349.866167]   ffff880003800100: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[  349.867189]   ffff880003800180: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[  349.868210]   ffff880003800200: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[  349.869231]   ffff880003800280: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[  349.870207] Shadow byte legend (one shadow byte represents 8 application bytes):
[  349.871184]   Addressable:           00
[  349.871692]   Partially addressable: 01 02 03 04 05 06 07 
[  349.872423]   Heap redzone:          fa
[  349.872935]   Heap kmalloc redzone:  fb
[  349.873443]   Freed heap region:     fd
}}}

{{{
[  166.124485] ERROR: AddressSanitizer: heap-buffer-overflow on address ffff880024ab8600
[  166.126613] ffff880024ab8600 is located 0 bytes to the right of 512-byte region [ffff880024ab8400, ffff880024ab8600)
[  166.129583] Accessed by thread T2505:
[  166.130732]   #0      inlined     describe_heap_address ./arch/x86/mm/asan/report.c:164
[  166.130732]   #0 ffffffff810dd277 (asan_report_error+0x2f7/0x400) ./arch/x86/mm/asan/report.c:278
[  166.132475]   #1 ffffffff810dc6a0 (asan_check_region+0x30/0x40) ./arch/x86/mm/asan/asan.c:37
[  166.134485]   #2 ffffffff810dd3c3 (__tsan_read1+0x13/0x20) ??:0
[  166.136397]   #3      inlined     sd_read_cache_type ./drivers/scsi/sd.c:2426
[  166.136397]   #3 ffffffff81675546 (sd_revalidate_disk+0x23d6/0x28d0) ./drivers/scsi/sd.c:2720
[  166.138531]   #4 ffffffff812f437b (revalidate_disk+0x4b/0xc0) ./fs/block_dev.c:975
[  166.140449]   #5 ffffffff8167143e (sd_rescan+0x3e/0x50) ./drivers/scsi/sd.c:1473
[  166.142539]   #6 ffffffff8162c164 (scsi_rescan_device+0x64/0x90) ./drivers/scsi/scsi_scan.c:1566
[  166.144557]   #7 ffffffff81694e65 (ata_scsi_dev_rescan+0xf5/0x170) ./drivers/ata/libata-scsi.c:3986
[  166.146680]   #8      inlined     trace_workqueue_execute_end ./kernel/workqueue.c:2186
[  166.146680]   #8 ffffffff81111640 (process_one_work+0x2d0/0x750) ./kernel/workqueue.c:2191
[  166.149012]   #9 ffffffff81111d23 (worker_thread+0x263/0x640) ./include/linux/list.h:188
[  166.151061]   #10 ffffffff8111c092 (kthread+0x132/0x140) kthread.c:0
[  166.152853]   #11 ffffffff8192841c (ret_from_fork+0x7c/0xb0) ./arch/x86/kernel/entry_64.S:570
[  166.154790] 
[  166.155389] Allocated by thread T2505:
[  166.156801]   #0 ffffffff810dc768 (asan_slab_alloc+0x48/0xb0) ./arch/x86/mm/asan/asan.c:91
[  166.158850]   #1      inlined     slab_alloc ./mm/slab.c:3475
[  166.158850]   #1      inlined     __do_kmalloc ./mm/slab.c:3749
[  166.158850]   #1 ffffffff812832ec (__kmalloc+0xbc/0x500) ./mm/slab.c:3763
[  166.161364]   #2 ffffffff81673234 (sd_revalidate_disk+0xc4/0x28d0) ./drivers/scsi/sd.c:2698
[  166.164302]   #3 ffffffff812f437b (revalidate_disk+0x4b/0xc0) ./fs/block_dev.c:975
[  166.167012]   #4 ffffffff8167143e (sd_rescan+0x3e/0x50) ./drivers/scsi/sd.c:1473
[  166.169478]   #5 ffffffff8162c164 (scsi_rescan_device+0x64/0x90) ./drivers/scsi/scsi_scan.c:1566
[  166.172321]   #6 ffffffff81694e65 (ata_scsi_dev_rescan+0xf5/0x170) ./drivers/ata/libata-scsi.c:3986
[  166.175156]   #7      inlined     trace_workqueue_execute_end ./kernel/workqueue.c:2186
[  166.175156]   #7 ffffffff81111640 (process_one_work+0x2d0/0x750) ./kernel/workqueue.c:2191
[  166.177222]   #8 ffffffff81111d23 (worker_thread+0x263/0x640) ./include/linux/list.h:188
[  166.179193]   #9 ffffffff8111c092 (kthread+0x132/0x140) kthread.c:0
[  166.180988]   #10 ffffffff8192841c (ret_from_fork+0x7c/0xb0) ./arch/x86/kernel/entry_64.S:570
[  166.182931] 
[  166.183537] Shadow bytes around the buggy address:
[  166.185391]   ffff880024ab8380: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
[  166.187758]   ffff880024ab8400: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[  166.190227]   ffff880024ab8480: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[  166.192684]   ffff880024ab8500: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[  166.195152]   ffff880024ab8580: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[  166.197649] =>ffff880024ab8600:[fa]fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
[  166.199128]   ffff880024ab8680: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
[  166.200962]   ffff880024ab8700: fa fa fa fa fa fa fa fa fd fd fd fd fd fd fd fd
[  166.203069]   ffff880024ab8780: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[  166.205202]   ffff880024ab8800: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[  166.207302]   ffff880024ab8880: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[  166.209237] Shadow byte legend (one shadow byte represents 8 application bytes):
[  166.211273]   Addressable:           00
[  166.212358]   Partially addressable: 01 02 03 04 05 06 07 
[  166.213871]   Heap redzone:          fa
[  166.214979]   Heap kmalloc redzone:  fb
[  166.216062]   Freed heap region:     fd
[  166.217149]   Shadow gap:            fe
}}}

{{{
[  296.869705] ERROR: AddressSanitizer: heap-use-after-free on address ffff88005b47a670
[  296.870787] ffff88005b47a670 is located 80 bytes inside of 184-byte region [ffff88005b47a620, ffff88005b47a6d8)
[  296.872146] Accessed by thread T12219:
[  296.872673]   #0      inlined     describe_heap_address ./arch/x86/mm/asan/report.c:170
[  296.872673]   #0 ffffffff810dd2a6 (asan_report_error+0x306/0x410) ./arch/x86/mm/asan/report.c:284
[  296.873509]   #1 ffffffff810dc6a0 (asan_check_region+0x30/0x40) ./arch/x86/mm/asan/asan.c:37
[  296.874328]   #2 ffffffff810dd453 (__tsan_read8+0x13/0x20) ??:0
[  296.875295]   #3 ffffffff8124d1b6 (SyS_remap_file_pages+0x486/0x4f0) ??:0
[  296.876243]   #4 ffffffff81928582 (system_call_fastpath+0x16/0x1b) ./arch/x86/kernel/entry_64.S:645
[  296.877098]
[  296.877319] Freed by thread T12219:
[  296.877797]   #0 ffffffff810dc849 (asan_slab_free+0x69/0xb0) ./arch/x86/mm/asan/asan.c:134
[  296.878590]   #1      inlined     __cache_free ./mm/slab.c:3591
[  296.878590]   #1 ffffffff81280c55 (kmem_cache_free+0x55/0x2e0) ./mm/slab.c:3800
[  296.879403]   #2 ffffffff81258bfd (remove_vma+0xad/0xc0) ./mm/mmap.c:256
[  296.880161]   #3      inlined     remove_vma_list ./mm/mmap.c:2321
[  296.880161]   #3 ffffffff8125c817 (do_munmap+0x4d7/0x5f0) ./mm/mmap.c:2542
[  296.880888]   #4 ffffffff8125d3f0 (mmap_region+0x280/0x960) ./mm/mmap.c:1506
[  296.881666]   #5 ffffffff8124d18e (SyS_remap_file_pages+0x45e/0x4f0) ??:0
[  296.882547]   #6 ffffffff81928582 (system_call_fastpath+0x16/0x1b) ./arch/x86/kernel/entry_64.S:645
[  296.883408]
[  296.883627] Allocated by thread T12219:
[  296.884182]   #0 ffffffff810dc768 (asan_slab_alloc+0x48/0xc0) ./arch/x86/mm/asan/asan.c:91
[  296.884954]   #1      inlined     slab_alloc ./mm/slab.c:3475
[  296.884954]   #1 ffffffff81282eca (kmem_cache_alloc+0x9a/0x4c0) ./mm/slab.c:3630
[  296.885773]   #2 ffffffff8125d660 (mmap_region+0x4f0/0x960) ./mm/mmap.c:1534
[  296.886550]   #3 ffffffff8125df0a (do_mmap_pgoff+0x43a/0x510) ./mm/mmap.c:1345
[  296.887349]   #4 ffffffff81240482 (vm_mmap_pgoff+0xb2/0xf0) ./mm/util.c:370
[  296.888129]   #5      inlined     SYSC_mmap_pgoff ./mm/mmap.c:1394
[  296.888129]   #5 ffffffff8125b552 (SyS_mmap_pgoff+0x282/0x2f0) ./mm/mmap.c:1352
[  296.888912]   #6 ffffffff8108441d (SyS_mmap+0x5d/0x80) ./arch/x86/kernel/sys_x86_64.c:79
[  296.889650]   #7 ffffffff81928582 (system_call_fastpath+0x16/0x1b) ./arch/x86/kernel/entry_64.S:645
[  296.890505]
[  296.890705] Shadow bytes around the buggy address:
[  296.891415]   ffff88005b47a380: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
[  296.892644]   ffff88005b47a400: fa fa fa fa fa fa 00 00 00 00 00 00 00 00 00 00
[  296.893706]   ffff88005b47a480: 00 00 00 00 00 00 00 00 00 00 00 00 00 fa fa fa
[  296.894753]   ffff88005b47a500: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
[  296.895798]   ffff88005b47a580: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
[  296.896844] =>ffff88005b47a600: fa fa fa fa fd fd fd fd fd fd fd fd fd fd[fd]fd
[  296.897893]   ffff88005b47a680: fd fd fd fd fd fd fd fd fd fd fd fa fa fa fa fa
[  296.899037]   ffff88005b47a700: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
[  296.900101]   ffff88005b47a780: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
[  296.901149]   ffff88005b47a800: fa fa 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[  296.902190]   ffff88005b47a880: 00 00 00 00 00 00 00 00 00 fa fa fa fa fa fa fa
[  296.903180] Shadow byte legend (one shadow byte represents 8 application bytes):
[  296.904185]   Addressable:           00
[  296.904714]   Partially addressable: 01 02 03 04 05 06 07
[  296.905515]   Heap redzone:          fa
[  296.906096]   Heap kmalloc redzone:  fb
[  296.906613]   Freed heap region:     fd
[  296.907177]   Shadow gap:            fe
}}}

{{{
[  312.749724] ERROR: AddressSanitizer: heap-use-after-free on address ffff8800560b0480
[  312.750849] ffff8800560b0480 is located 80 bytes inside of 184-byte region [ffff8800560b0430, ffff8800560b04e8)
[  312.752947] Accessed by thread T12219:
[  312.753514]   #0      inlined     describe_heap_address ./arch/x86/mm/asan/report.c:170
[  312.753514]   #0 ffffffff810dd2a6 (asan_report_error+0x306/0x410) ./arch/x86/mm/asan/report.c:284
[  312.754373]   #1 ffffffff810dc6a0 (asan_check_region+0x30/0x40) ./arch/x86/mm/asan/asan.c:37
[  312.755203]   #2 ffffffff810dd453 (__tsan_read8+0x13/0x20) ??:0
[  312.755968]   #3 ffffffff8124d1b6 (SyS_remap_file_pages+0x486/0x4f0) ??:0
[  312.756855]   #4 ffffffff81928582 (system_call_fastpath+0x16/0x1b) ./arch/x86/kernel/entry_64.S:645
[  312.757751]
[  312.757997] Freed by thread T12219:
[  312.758565]   #0 ffffffff810dc849 (asan_slab_free+0x69/0xb0) ./arch/x86/mm/asan/asan.c:134
[  312.759370]   #1      inlined     __cache_free ./mm/slab.c:3591
[  312.759370]   #1 ffffffff81280c55 (kmem_cache_free+0x55/0x2e0) ./mm/slab.c:3800
[  312.760285]   #2 ffffffff81258bfd (remove_vma+0xad/0xc0) ./mm/mmap.c:256
[  312.761388]   #3      inlined     remove_vma_list ./mm/mmap.c:2321
[  312.761388]   #3 ffffffff8125c817 (do_munmap+0x4d7/0x5f0) ./mm/mmap.c:2542
[  312.762522]   #4 ffffffff8125d3f0 (mmap_region+0x280/0x960) ./mm/mmap.c:1506
[  312.763642]   #5 ffffffff8124d18e (SyS_remap_file_pages+0x45e/0x4f0) ??:0
[  312.764961]   #6 ffffffff81928582 (system_call_fastpath+0x16/0x1b) ./arch/x86/kernel/entry_64.S:645
[  312.766233]
[  312.766566] Allocated by thread T12219:
[  312.767389]   #0 ffffffff810dc768 (asan_slab_alloc+0x48/0xc0) ./arch/x86/mm/asan/asan.c:91
[  312.768628]   #1      inlined     slab_alloc ./mm/slab.c:3475
[  312.768628]   #1 ffffffff81282eca (kmem_cache_alloc+0x9a/0x4c0) ./mm/slab.c:3630
[  312.769890]   #2 ffffffff8125d660 (mmap_region+0x4f0/0x960) ./mm/mmap.c:1534
[  312.771012]   #3 ffffffff8124d18e (SyS_remap_file_pages+0x45e/0x4f0) ??:0
[  312.772260]   #4 ffffffff81928582 (system_call_fastpath+0x16/0x1b) ./arch/x86/kernel/entry_64.S:645
[  312.773523]
[  312.773832] Shadow bytes around the buggy address:
[  312.774739]   ffff8800560b0200: fa fa fa fa fa fa fa fa 00 00 00 00 00 00 00 00
[  312.775856]   ffff8800560b0280: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 fa
[  312.776768]   ffff8800560b0300: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
[  312.777881]   ffff8800560b0380: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
[  312.778996]   ffff8800560b0400: fa fa fa fa fa fa fd fd fd fd fd fd fd fd fd fd
[  312.780412] =>ffff8800560b0480:[fd]fd fd fd fd fd fd fd fd fd fd fd fd fa fa fa
[  312.781484]   ffff8800560b0500: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
[  312.782556]   ffff8800560b0580: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
[  312.784060]   ffff8800560b0600: fa fa fa fa 00 00 00 00 00 00 00 00 00 00 00 00
[  312.785634]   ffff8800560b0680: 00 00 00 00 00 00 00 00 00 00 00 fa fa fa fa fa
[  312.786714]   ffff8800560b0700: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
[  312.787896] Shadow byte legend (one shadow byte represents 8 application bytes):
[  312.789206]   Addressable:           00
[  312.789742]   Partially addressable: 01 02 03 04 05 06 07
[  312.790568]   Heap redzone:          fa
[  312.791246]   Heap kmalloc redzone:  fb
[  312.791799]   Freed heap region:     fd
[  312.792354]   Shadow gap:            fe
}}}

{{{
[  286.473434] ERROR: AddressSanitizer: heap-buffer-overflow on address ffff8800359c99f3
[  286.474598] ffff8800359c99f3 is located 0 bytes to the right of 243-byte region [ffff8800359c9900, ffff8800359c99f3)
[  286.476100] Accessed by thread T13003:
[  286.476735]   #0 ffffffff810dd2da (asan_report_error+0x32a/0x440)
[  286.477556]   #1 ffffffff810dc6b0 (asan_check_region+0x30/0x40)
[  286.478353]   #2 ffffffff810dd4d3 (__tsan_write1+0x13/0x20)
[  286.479112]   #3 ffffffff811cd19e (ftrace_regex_release+0x1be/0x260)
[  286.479929]   #4 ffffffff812a1065 (__fput+0x155/0x360)
[  286.480627]   #5 ffffffff812a12de (____fput+0x1e/0x30)
[  286.481331]   #6 ffffffff8111708d (task_work_run+0x10d/0x140)
[  286.482107]   #7 ffffffff810ea043 (do_exit+0x433/0x11f0)
[  286.482793]   #8 ffffffff810eaee4 (do_group_exit+0x84/0x130)
[  286.483552]   #9 ffffffff810eafb1 (SyS_exit_group+0x21/0x30)
[  286.484320]   #10 ffffffff81928782 (system_call_fastpath+0x16/0x1b)
[  286.485151] 
[  286.485365] Allocated by thread T5167:
[  286.485979]   #0 ffffffff810dc778 (asan_slab_alloc+0x48/0xc0)
[  286.486750]   #1 ffffffff8128337c (__kmalloc+0xbc/0x500)
[  286.487474]   #2 ffffffff811d9d54 (trace_parser_get_init+0x34/0x90)
[  286.488313]   #3 ffffffff811cd7b3 (ftrace_regex_open+0x83/0x2e0)
[  286.489120]   #4 ffffffff811cda7d (ftrace_filter_open+0x2d/0x40)
[  286.489894]   #5 ffffffff8129b4ff (do_dentry_open+0x32f/0x430)
[  286.490674]   #6 ffffffff8129b668 (finish_open+0x68/0xa0)
[  286.491411]   #7 ffffffff812b66ac (do_last+0xb8c/0x1710)
[  286.492135]   #8 ffffffff812b7350 (path_openat+0x120/0xb50)
[  286.492855]   #9 ffffffff812b8884 (do_filp_open+0x54/0xb0)
[  286.493604]   #10 ffffffff8129d36c (do_sys_open+0x1ac/0x2c0)
[  286.494366]   #11 ffffffff8129d4b7 (SyS_open+0x37/0x50)
[  286.495078]   #12 ffffffff81928782 (system_call_fastpath+0x16/0x1b)
[  286.495878] 
[  286.496120] Shadow bytes around the buggy address:
[  286.496810]   ffff8800359c9700: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
[  286.499707]   ffff8800359c9780: fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa
[  286.502622]   ffff8800359c9800: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
[  286.505521]   ffff8800359c9880: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
[  286.508459]   ffff8800359c9900: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[  286.511345] =>ffff8800359c9980: 00 00 00 00 00 00 00 00 00 00 00 00 00 00[03]fb
[  286.514243]   ffff8800359c9a00: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
[  286.517175]   ffff8800359c9a80: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
[  286.520059]   ffff8800359c9b00: fa fa fa fa fa fa fa fa 00 00 00 00 00 00 00 00
[  286.522936]   ffff8800359c9b80: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
[  286.525921]   ffff8800359c9c00: 00 00 00 00 00 00 00 00 fa fa fa fa fa fa fa fa
[  286.528738] Shadow byte legend (one shadow byte represents 8 application bytes):
[  286.529701]   Addressable:           00
[  286.530346]   Partially addressable: 01 02 03 04 05 06 07 
[  286.531155]   Heap redzone:          fa
[  286.531753]   Heap kmalloc redzone:  fb
[  286.532414]   Freed heap region:     fd
[  286.533083]   Shadow gap:            fe
}}}

= On revision d8efd82eece89f8a5790b0febf17522affe9e1f1 =

[aio_migratepage]
{{{
ERROR: AddressSanitizer: heap-use-after-free on address ffff88005a8ccb08
ffff88005a8ccb08 is located 8 bytes inside of 576-byte region
[ffff88005a8ccb00, ffff88005a8ccd40)
WRITE of size 8 at ffff88005a8ccb08 by thread T4740:
  #0      inlined     (asan_report_error+0x367/0x480)
asan_describe_heap_address ./arch/x86/mm/asan/report.c:175
  #0 ffffffff810d9917 (asan_report_error+0x367/0x480)
./arch/x86/mm/asan/report.c:292
  #1 ffffffff810d8bd2 (asan_check_region.part.1+0x192/0x200)
./arch/x86/mm/asan/asan.c:244
  #2 ffffffff810d8de3 (__tsan_write8+0x23/0x30) ./arch/x86/mm/asan/asan.c:262
  #3      inlined     (aio_migratepage+0xd1/0x140)
spin_unlock_irqrestore ./include/linux/spinlock.h:348
  #3 ffffffff812f7d71 (aio_migratepage+0xd1/0x140) ./fs/aio.c:230
  #4 ffffffff812761b6 (move_to_new_page+0xd6/0x2f0) ./mm/migrate.c:702
  #5      inlined     (migrate_pages+0x81a/0x920) __unmap_and_move
./mm/migrate.c:844
  #5      inlined     (migrate_pages+0x81a/0x920) unmap_and_move
./mm/migrate.c:885
  #5 ffffffff81276d9a (migrate_pages+0x81a/0x920) ./mm/migrate.c:1048
  #6      inlined     (compact_zone+0x4cb/0x700) update_nr_listpages
./mm/compaction.c:772
  #6 ffffffff8123915b (compact_zone+0x4cb/0x700) ./mm/compaction.c:986
  #7 ffffffff8123949a (compact_zone_order+0x10a/0x160) ./mm/compaction.c:1032
  #8 ffffffff8123999b (try_to_compact_pages+0xeb/0x130) ./mm/compaction.c:1082
  #9 ffffffff818cdcfb (__alloc_pages_direct_compact+0x129/0x2d0)
./mm/page_alloc.c:2234
  #10      inlined     (__alloc_pages_nodemask+0x91d/0xdc0)
__alloc_pages_slowpath ./mm/page_alloc.c:2568
  #10 ffffffff8121285d (__alloc_pages_nodemask+0x91d/0xdc0)
./mm/page_alloc.c:2731
  #11 ffffffff8126fc7f (kmem_getpages+0x5f/0x1d0) ./mm/slab.c:1759
  #12 ffffffff81270897 (fallback_alloc+0x177/0x250)
././arch/x86/include/asm/irqflags.h:39
  #13 ffffffff812706eb (____cache_alloc_node+0x11b/0x150) ./mm/slab.c:3352
  #14      inlined     (__kmalloc+0x367/0x500) __do_cache_alloc ./mm/slab.c:3430
  #14      inlined     (__kmalloc+0x367/0x500) slab_alloc ./mm/slab.c:3462
  #14      inlined     (__kmalloc+0x367/0x500) __do_kmalloc ./mm/slab.c:3748
  #14 ffffffff81272a17 (__kmalloc+0x367/0x500) ./mm/slab.c:3762
  #15 ffffffff812be7c4 (seq_read+0x254/0x7b0) ./fs/seq_file.c:235
  #16 ffffffff8128bdea (vfs_read+0xfa/0x240) ??:0
  #17 ffffffff8128d062 (SyS_read+0x72/0xd0) ??:0
  #18 ffffffff818ea235 (sysenter_dispatch+0x7/0x1a)
./arch/x86/ia32/ia32entry.S:164

freed by thread T2002 here:
  #0      inlined     (kmem_cache_free+0x55/0x2e0) __cache_free ./mm/slab.c:3590
  #0 ffffffff81270a35 (kmem_cache_free+0x55/0x2e0) ./mm/slab.c:3799
  #1 ffffffff812f6d31 (free_ioctx_rcu+0x41/0x50) ./fs/aio.c:398
  #2      inlined     (rcu_process_callbacks+0x2a2/0x890) rcu_do_batch
./kernel/rcutree.c:1992
  #2      inlined     (rcu_process_callbacks+0x2a2/0x890)
invoke_rcu_callbacks ./kernel/rcutree.c:2236
  #2      inlined     (rcu_process_callbacks+0x2a2/0x890)
__rcu_process_callbacks ./kernel/rcutree.c:2206
  #2 ffffffff811afff2 (rcu_process_callbacks+0x2a2/0x890)
./kernel/rcutree.c:2220
  #3      inlined     (__do_softirq+0x172/0x380) trace_softirq_exit
./kernel/softirq.c:251
  #3 ffffffff810ea742 (__do_softirq+0x172/0x380) ./kernel/softirq.c:252
  #4      inlined     (irq_exit+0x10d/0x120) invoke_softirq
./kernel/softirq.c:332
  #4 ffffffff810eab8d (irq_exit+0x10d/0x120) ./kernel/softirq.c:365
  #5 ffffffff818ea90e (smp_apic_timer_interrupt+0x5e/0x70)
./arch/x86/kernel/apic/apic.c:933
  #6 ffffffff818e96ca (apic_timer_interrupt+0x6a/0x70)
./arch/x86/kernel/entry_64.S:1181
  #7 ffffffff812d3e0c (free_buffer_head+0x3c/0x70) ./fs/buffer.c:3341
  #8 ffffffff812d4008 (try_to_free_buffers+0xb8/0x110) ./fs/buffer.c:3256
  #9 ffffffff8140e28b (jbd2_journal_try_to_free_buffers+0xfb/0x190)
./fs/jbd2/transaction.c:1907
  #10 ffffffff8138cb3e (ext4_releasepage+0x8e/0x110) ./fs/ext4/inode.c:3005
  #11 ffffffff81206008 (try_to_release_page+0x68/0x90) ./mm/filemap.c:2603
  #12 ffffffff812d5b02 (block_invalidatepage+0x142/0x170) ./fs/buffer.c:1549
  #13 ffffffff8138d8d4 (ext4_invalidatepage+0x84/0xf0) ./fs/ext4/inode.c:2965
  #14 ffffffff8138e2e6 (ext4_da_invalidatepage+0x56/0x500)
./fs/ext4/inode.c:2811
  #15 ffffffff8121a9e8 (truncate_inode_page+0xc8/0xd0) ??:0

previously allocated by thread T5840 here:
  #0      inlined     (kmem_cache_alloc+0x9a/0x4c0) slab_alloc ./mm/slab.c:3474
  #0 ffffffff81272c4a (kmem_cache_alloc+0x9a/0x4c0) ./mm/slab.c:3629
  #1      inlined     (SyS_io_setup+0x10c/0xce0) ioctx_alloc ./fs/aio.c:563
  #1      inlined     (SyS_io_setup+0x10c/0xce0) SYSC_io_setup ./fs/aio.c:1100
  #1 ffffffff812f7fec (SyS_io_setup+0x10c/0xce0) ./fs/aio.c:1083
  #2 ffffffff818e8b02 (system_call_fastpath+0x16/0x1b)
./arch/x86/kernel/entry_64.S:645

Shadow bytes around the buggy address:
  ffff88005a8cc880: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  ffff88005a8cc900: 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00
  ffff88005a8cc980: 00 00 00 00 00 00 00 00 fa fa fa fa fa fa fa fa
  ffff88005a8cca00: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
  ffff88005a8cca80: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
=>ffff88005a8ccb00: fd[fd]fd fd fd fd fd fd fd fd fd fd fd fd fd fd
  ffff88005a8ccb80: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
  ffff88005a8ccc00: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
  ffff88005a8ccc80: fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd fd
  ffff88005a8ccd00: fd fd fd fd fd fd fd fd fa fa fa fa fa fa fa fa
  ffff88005a8ccd80: fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa fa
Shadow byte legend (one shadow byte represents 8 application bytes):
  Addressable:           00
  Partially addressable: 01 02 03 04 05 06 07
  Heap redzone:          fa
  Heap kmalloc redzone:  fb
  Freed heap region:     fd
  Shadow gap:            fe
}}}